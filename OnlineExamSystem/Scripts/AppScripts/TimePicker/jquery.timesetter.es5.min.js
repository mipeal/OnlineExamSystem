"use strict";(function(n){function i(n,t,i){return Array(t-n.toString().length+1).join(i||" ")+n.toString()}function e(t){var i=n(t).parents(".divTimeSetterContainer");f(i);r=n(t).data("unit");n.fn.settings.inputHourTextbox=i.find("#txtHours");n.fn.settings.inputMinuteTextbox=i.find("#txtMinutes");u(i,n.fn.settings)}function o(e){var h=n(e).parents(".divTimeSetterContainer"),c,o;if(f(h),n.fn.settings.inputHourTextbox=h.find("#txtHours"),n.fn.settings.inputMinuteTextbox=h.find("#txtMinutes"),n.fn.settings.hour.value=parseInt(n.fn.settings.inputHourTextbox.val()),n.fn.settings.minute.value=parseInt(n.fn.settings.inputMinuteTextbox.val()),n.fn.settings.direction=n(e).data("direction"),isNaN(n.fn.settings.hour.value)&&(n.fn.settings.hour.value=n.fn.settings.hour.min),isNaN(n.fn.settings.minute.value)&&(n.fn.settings.minute.value=n.fn.settings.minute.min),r==="hours")c=parseInt(n(n.fn.settings.inputHourTextbox).val().trim()),o=0,n.fn.settings.direction==="decrement"?(o=c-n.fn.settings.hour.step,o%n.fn.settings.hour.step>0&&(o=o-o%n.fn.settings.hour.step),o<=n.fn.settings.hour.min&&(o=n.fn.settings.hour.min)):n.fn.settings.direction==="increment"&&(o=c+n.fn.settings.hour.step,o%n.fn.settings.hour.step>0&&(o=o-o%n.fn.settings.hour.step),o>=n.fn.settings.hour.max&&(o=n.fn.settings.hour.max-n.fn.settings.hour.step)),n(n.fn.settings.inputHourTextbox).val(i(o.toString(),t(n.fn.settings.hour),n.fn.settings.numberPaddingChar)),n(h).attr("data-hourvalue",o),n(h).attr("data-minutevalue",s),n(n.fn.settings.inputHourTextbox).trigger("change").select();else if(r==="minutes"){var c=n.fn.settings.hour.value,o=c,l=n.fn.settings.minute.value,s=l;n.fn.settings.direction==="decrement"?(s=l-n.fn.settings.minute.step,s%n.fn.settings.minute.step>0&&(s=s-s%n.fn.settings.minute.step),o<=n.fn.settings.hour.min&&l<=n.fn.settings.minute.min&&(o=n.fn.settings.hour.min,s=n.fn.settings.minute.min)):n.fn.settings.direction==="increment"&&(s=l+n.fn.settings.minute.step,s%n.fn.settings.minute.step>0&&(s=s-s%n.fn.settings.minute.step),o>=n.fn.settings.hour.max-n.fn.settings.hour.step&&l>=n.fn.settings.minute.max-n.fn.settings.minute.step&&(o=n.fn.settings.hour.max-n.fn.settings.hour.step,s=n.fn.settings.minute.max-n.fn.settings.minute.step));s>=n.fn.settings.minute.max&&o!=n.fn.settings.hour.max&&s?(s=n.fn.settings.minute.min,o=c+n.fn.settings.hour.step):s<n.fn.settings.minute.min&&c>=n.fn.settings.hour.step?(s=n.fn.settings.minute.max-n.fn.settings.minute.step,o=c-n.fn.settings.hour.step):s<n.fn.settings.minute.min&&c<n.fn.settings.hour.step&&(s=n.fn.settings.minute.min,o=n.fn.settings.hour.min);n(n.fn.settings.inputHourTextbox).val(i(o.toString(),t(n.fn.settings.hour),n.fn.settings.numberPaddingChar));n(n.fn.settings.inputMinuteTextbox).val(i(s.toString(),t(n.fn.settings.minute),n.fn.settings.numberPaddingChar));n(h).attr("data-hourvalue",o);n(h).attr("data-minutevalue",s);n(n.fn.settings.inputMinuteTextbox).trigger("change").select();u(h,n.fn.settings)}}function s(t,i){var r=n(t).parents(".divTimeSetterContainer"),e,o;f(r);e=n(r).find("#btnUp");o=n(r).find("#btnDown");switch(i.which){case 13:break;case 37:break;case 38:e.click();break;case 39:break;case 40:o.click();break;default:return}i.preventDefault();u(r,n.fn.settings);n(t).select()}function c(u){var s=n(u.target),h=n(s).parents(".divTimeSetterContainer"),e,o;return(f(h),r==="hours"?e=n.fn.settings.hour:r==="minutes"&&(e=n.fn.settings.minute),!n.isNumeric(s.val()))?(n(s).val(i(e.min.toString(),t(e),n.fn.settings.numberPaddingChar)),!1):(o=parseInt(parseFloat(s.val())),o>=e.max)?(o=e.max-e.step,n(s).val(i(o.toString(),t(e),n.fn.settings.numberPaddingChar)),!1):o<=e.min?(n(s).val(i(e.min.toString(),t(e),n.fn.settings.numberPaddingChar)),!1):i(o.toString(),t(e),n.fn.settings.numberPaddingChar)!==n(s).val()?(n(s).val(i(o.toString(),t(e),n.fn.settings.numberPaddingChar)),!1):o%e.step>0?(o=o-o%e.step,n(s).val(i(o.toString(),t(e),n.fn.settings.numberPaddingChar)),!1):u.which!=8&&u.which!=0&&(u.which<48||u.which>57)?!1:o>=Math.pow(10,t(e))?(n(s).val(i((Math.pow(10,t(e))-1).toString(),t(e),n.fn.settings.numberPaddingChar)),!1):void 0}function t(n){return n.max.toString().length}function u(t,i){return n.fn.settings=i?n.extend(n.fn.settings,i):n.fn.getDefaultSettings(),n(t).data("options",n.fn.settings),n.fn.settings}function f(t){var i=n(t).data("options");return n.fn.settings=i?n.extend(n.fn.settings,n(t).data("options")):n.fn.getDefaultSettings(),n.fn.settings}var r,h;n.fn.timesetter=function(r){var v=n(this),f,y,p,l,a,w,b,k;return v.find(".divTimeSetterContainer").length!==1&&v.html(h),f=v.find(".divTimeSetterContainer"),u(f,r),y=f.find("#btnUp"),p=f.find("#btnDown"),y.unbind("click").bind("click",function(n){o(this,n)}),p.unbind("click").bind("click",function(n){o(this,n)}),l=f.find("#txtHours"),a=f.find("#txtMinutes"),l.unbind("focusin").bind("focusin",function(t){n(this).select();e(this,t)}),a.unbind("focusin").bind("focusin",function(t){n(this).select();e(this,t)}),l.unbind("keydown").bind("keydown",function(n){s(this,n)}),a.unbind("keydown").bind("keydown",function(n){s(this,n)}),n(f).find("input[type=text]").each(function(){n(this).change(function(n){c(n)})}),l.val().length===0&&l.val(i(n.fn.settings.hour.min.toString(),t(n.fn.settings.hour),n.fn.settings.numberPaddingChar)),a.val().length===0&&a.val(i(n.fn.settings.minute.min.toString(),t(n.fn.settings.minute),n.fn.settings.numberPaddingChar)),w=l.siblings("span.hourSymbol:first"),w.text(n.fn.settings.hour.symbol),b=a.siblings("span.minuteSymbol:first"),b.text(n.fn.settings.minute.symbol),k=f.find(".postfix-position"),k.text(n.fn.settings.postfixText),this};n.fn.getHoursValue=function(){var i=n(this).find(".divTimeSetterContainer"),t=n(i).find("#txtHours");return n.isNumeric(t.val())?parseInt(t.val()):n.fn.settings.hour.min};n.fn.getMinutesValue=function(){var i=n(this).find(".divTimeSetterContainer"),t=n(i).find("#txtMinutes");return n.isNumeric(t.val())?parseInt(t.val()):n.fn.settings.minute.min};n.fn.getTotalMinutes=function(){var t=n(this).find(".divTimeSetterContainer"),i=n(t).find("#txtHours"),r=n(t).find("#txtMinutes"),u=0,f=0;return n.isNumeric(i.val())&&n.isNumeric(r.val())&&(u=parseInt(i.val()),f=parseInt(r.val())),u*60+f};n.fn.getPostfixText=function(){var t=n(this).find(".divTimeSetterContainer");return t.find(".postfix-position").text()};n.fn.setHour=function(e){var s=n(this).find(".divTimeSetterContainer"),o;return f(s),o=n(s).find("#txtHours"),n.isNumeric(e)?o.val(e):o.val(i(n.fn.settings.hour.min.toString(),t(n.fn.settings.hour),n.fn.settings.numberPaddingChar)),r="hours",u(s,n.fn.settings),o.change(),this};n.fn.setMinute=function(e){var s=n(this).find(".divTimeSetterContainer"),o;return f(s),o=n(s).find("#txtMinutes"),n.isNumeric(e)?o.val(e):o.val(i(n.fn.settings.minute.min.toString(),t(n.fn.settings.minute),n.fn.settings.numberPaddingChar)),r="minutes",u(s,n.fn.settings),o.change(),this};n.fn.setValuesByTotalMinutes=function(e){var o=n(this).find(".divTimeSetterContainer");f(o);var l=n(o).find("#txtHours"),h=n(o).find("#txtMinutes"),c=0,s=0;return e&&e>0&&e<1440&&(s=e%60,c=(e-s)/60),l.val(i(c.toString(),t(n.fn.settings.hour),n.fn.settings.numberPaddingChar)),h.val(i(s.toString(),t(n.fn.settings.minute),n.fn.settings.numberPaddingChar)),r="minutes",u(o,n.fn.settings),h.change(),this};n.fn.setPostfixText=function(t){var i=n(this).find(".divTimeSetterContainer");return i.find(".postfix-position").text(t),this};n.fn.getDefaultSettings=function(){return{hour:{value:0,min:0,max:24,step:1,symbol:"h"},minute:{value:0,min:0,max:60,step:15,symbol:"mins"},direction:"increment",inputHourTextbox:null,inputMinuteTextbox:null,postfixText:"",numberPaddingChar:"0"}};n.fn.settings=n.fn.getDefaultSettings();r="minutes";h='<div class="divTimeSetterContainer"><div class="timeValueBorder"><input id="txtHours" type="text" class="timePart hours" data-unit="hours" autocomplete="off" /><span class="hourSymbol"><\/span><span class="timeDelimiter">:<\/span><input id="txtMinutes" type="text" class="timePart minutes" data-unit="minutes" autocomplete="off" /><span class="minuteSymbol"><\/span><div class="button-time-control"><div id="btnUp" type="button" data-direction="increment" class="updownButton"><i class="glyphicon glyphicon-triangle-top"><\/i><\/div><div id="btnDown" type="button" data-direction="decrement" class="updownButton"><i class="glyphicon glyphicon-triangle-bottom"><\/i><\/div><\/div><\/div><label class="postfix-position"><\/label><\/div>'})(jQuery);$(document).ready(function(){$(".div1").timesetter({hour:{value:0,min:0,max:24,step:1,symbol:"hrs"},minute:{value:0,min:0,max:60,step:15,symbol:"mins"},direction:"increment",inputHourTextbox:null,inputMinuteTextbox:null,postfixText:"",numberPaddingChar:"0"}).setHour(17);$(".div2").timesetter().setValuesByTotalMinutes(175)});